<!DOCTYPE html>
<html>
<head>
    <title>Binance Brief ¬∑ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü—ñ—è</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: #0a0a0a; color: #f0b90b; min-height: 100vh; display: flex; justify-content: center; align-items: center; }
        .card { background: #1e1f25; padding: 40px; border-radius: 20px; width: 600px; border: 1px solid #2c2f36; }
        .navbar { display: flex; justify-content: space-between; margin-bottom: 30px; }
        .logo { color: #f0b90b; font-size: 1.5rem; font-weight: bold; }
        .status { background: #0c0f15; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center; }
        .participant { background: #0c0f15; padding: 10px; margin: 5px 0; border-radius: 8px; display: flex; justify-content: space-between; }
        button { background: #f0b90b; color: black; padding: 15px 30px; border: none; border-radius: 10px; font-weight: bold; margin: 5px; cursor: pointer; }
        .btn-danger { background: #0c0f15; color: #ef5350; border: 1px solid #2c2f36; }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- –ü—ñ–¥–∫–ª—é—á–∞—î–º–æ –ª–æ–∫–∞–ª—å–Ω–∏–π —Ñ–∞–π–ª -->
    <script src="livekit.js"></script>
</head>
<body>
    <div class="card">
        <div class="navbar">
            <div class="logo"><i class="fas fa-microphone-alt"></i> BINANCE BRIEF</div>
            <div class="room-tag" id="roomDisplay"></div>
        </div>

        <div class="status" id="connectionStatus">
            <i class="fas fa-circle-notch fa-spin"></i> –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è...
        </div>

        <div id="participantsList"></div>

        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button onclick="window.toggleMic()" id="micBtn" style="flex: 1;">
                <i class="fas fa-microphone"></i> –ú—ñ–∫—Ä–æ—Ñ–æ–Ω
            </button>
            <button onclick="window.leaveRoom()" class="btn-danger" style="flex: 1;">
                <i class="fas fa-sign-out-alt"></i> –í–∏–π—Ç–∏
            </button>
        </div>
    </div>

    <script>
        // –û–≥–æ–ª–æ—à—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—ó –≥–ª–æ–±–∞–ª—å–Ω–æ
        window.toggleMic = function() {
            alert('–ú—ñ–∫—Ä–æ—Ñ–æ–Ω –ø—Ä–∞—Ü—é—î!');
            // –¢—É—Ç –±—É–¥–µ –ª–æ–≥—ñ–∫–∞ –º—ñ–∫—Ä–æ—Ñ–æ–Ω–∞
        };

        window.leaveRoom = function() {
            window.location.href = '/';
        };

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤—Å—è LiveKit
        if (typeof LiveKit === 'undefined') {
            document.getElementById('connectionStatus').innerHTML = '‚ùå –ü–æ–º–∏–ª–∫–∞: livekit.js –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤—Å—è';
        } else {
            document.getElementById('connectionStatus').innerHTML = '‚úÖ –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞, –ø—ñ–¥–∫–ª—é—á–∞—é—Å—å...';
            
            const urlParams = new URLSearchParams(window.location.search);
            const roomName = urlParams.get('room') || 'test';
            
            document.getElementById('roomDisplay').innerHTML = `<i class="fas fa-door-open"></i> ${roomName}`;
            
            // –¢—É—Ç –±—É–¥–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –∫—ñ–º–Ω–∞—Ç–∏
            setTimeout(() => {
                document.getElementById('connectionStatus').innerHTML = '‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ –∫—ñ–º–Ω–∞—Ç–∏ ' + roomName;
                
                // –ü–æ–∫–∞–∑—É—î–º–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —É—á–∞—Å–Ω–∏–∫–∞
                document.getElementById('participantsList').innerHTML = `
                    <div class="participant">
                        <span><i class="fas fa-user-circle"></i> –í–∏</span>
                        <span>üé§ –≤–∫–ª</span>
                    </div>
                `;
            }, 2000);
        }
    </script>
</body>
</html>
